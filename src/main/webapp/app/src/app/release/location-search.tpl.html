<div>
    <h2>Search by Town</h2>
    <div class="input-group component-group">
        <input type="text" ng-model="town" typeahead="town for town in towns | filter:$viewValue:startsWith | limitTo:8"
               typeahead-select-on-exact="true"
               class="form-control" ng-keyup="$event.keyCode == 13 && getMaReleasesByTownPaged(town,0,10)" placeholder="E.g. Cambridge"/>

        <span class="input-group-btn">
            <button class="btn btn-default" type="button" ng-click="getMaReleasesByTownPaged(town,0,10)">Search</button>
        </span>
    </div>
    <p/>
    <div ng-show="loading"><i class="fa fa-spinner fa-spin"></i> Loading...</div>
    <a ng-show="prev && !loading" ng-click="getMaReleasesPagination(prev)">Prev</a>
    <a ng-show="next && !loading" ng-click="getMaReleasesPagination(next)">Next</a>
    <div>
        <table class="table table-striped" ng-show="releases && !loading">
        <th>Release</th>
        <th>Site</th>
        <th>Address</th>
        <th>Town</th>
        <tr ng-repeat="release in releases">
            <td><a ui-sref="releaseDetails({rtn:release.rtn})">{{release.rtn}}</a></td>
            <td>{{release.siteName}}</td>
            <td>{{release.address}}</td>
            <td>{{release.town}}</td>
        </tr>
    </table>
    </div>
</div>